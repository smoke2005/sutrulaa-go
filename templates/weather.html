<!DOCTYPE html>
<html lang="ta">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>வானிலை தகவல்</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet">
  <style>
    .cloud {
      position: absolute;
      top: 20%;
      left: 50%;
      transform: translateX(-50%);
      animation: floatCloud 10s infinite ease-in-out;
      cursor: pointer;
    }

    @keyframes floatCloud {
      0% {
        transform: translateX(-50%) translateY(0);
      }
      50% {
        transform: translateX(-50%) translateY(-10px);
      }
      100% {
        transform: translateX(-50%) translateY(0);
      }
    }

    .weather-box {
      background-color: #f9f6f0;
      padding: 20px;
      border-radius: 10px;
      width: 300px;
      box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
      position: fixed;
      top: 30%;
      left: 50%;
      transform: translateX(-50%);
      display: none;
    }

  </style>
</head>
<body class="bg-[#f9f6f0] font-poppins">

  <!-- தலைப்பு பகுதி -->
  <h1 class="text-center text-3xl mt-20">வானிலை தகவல்</h1>
  <!-- நகரம் பொத்தான்கள் பகுதி -->
  <div class="text-center mt-10">
    <button class="bg-purple-500 text-white px-4 py-2 rounded-full" onclick="getWeather('சென்னை')">சென்னை</button>
    <button class="bg-purple-500 text-white px-4 py-2 rounded-full ml-4" onclick="getWeather('மதுரை')">மதுரை</button>
    <button class="bg-purple-500 text-white px-4 py-2 rounded-full ml-4" onclick="getWeather('சேலம்')">சேலம்</button>
  </div>

  <!-- தனிப்பயன் நகரம் தேடல் பகுதி -->
  <div class="text-center mt-10">
    <input type="text" id="cityName" placeholder="நகரம் பெயரை உள்ளிடவும்" class="p-2 rounded-lg border-2 border-gray-400">
    <img src="cloud.png" alt="மிதக்கும் மேகம்" class="cloud" id="cloud" onclick="getWeatherFromInput()">
  </div>

  <!-- வானிலை தகவல் பெட்டி -->
  <div id="weatherBox" class="weather-box">
    <h3 class="text-xl font-semibold" id="cityTitle">வானிலை தகவல்</h3>
    <p id="weatherDetails" class="mt-4"></p>
    <button id="closeBtn" class="mt-4 bg-red-500 text-white px-4 py-2 rounded-full">மூடு</button>
  </div>

  <script>
    const apiKey = 'YOUR_API_KEY';  // உங்கள் OpenWeatherMap API விசையை இங்கே மாற்றவும்

    // நகரத்தின் அடிப்படையில் வானிலை பெறும் செயல்பாடு
    async function getWeather(city) {
      const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`);
      const data = await response.json();

      if (data.cod === 200) {
        const weatherInfo = `
          <strong>நகரம்:</strong> ${data.name}<br>
          <strong>வெப்பநிலை:</strong> ${data.main.temp}°C<br>
          <strong>வானிலை:</strong> ${data.weather[0].description}<br>
          <strong>ஈரப்பதம்:</strong> ${data.main.humidity}%<br>
        `;
        document.getElementById("weatherDetails").innerHTML = weatherInfo;
        document.getElementById("cityTitle").textContent = `${city} வானிலை`;
        document.getElementById("weatherBox").style.display = "block";
      } else {
        document.getElementById("weatherDetails").innerHTML = "பிழை: நகரம் கிடைக்கவில்லை!";
        document.getElementById("weatherBox").style.display = "block";
      }
    }

    // தனிப்பயன் நகரம் தேடல் செயல்பாடு
    function getWeatherFromInput() {
      const city = document.getElementById("cityName").value;
      if (city) {
        getWeather(city);
      }
    }

    // வானிலை தகவல் பெட்டியை மூடு
    document.getElementById("closeBtn").onclick = function() {
      document.getElementById("weatherBox").style.display = "none";
    };
  </script>

</body>
</html>
